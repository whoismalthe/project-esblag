<!doctype html>
<html lang="da" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Project ESBLAG â€” MVP V1.18.4</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400..700&family=Nunito:wght@300;400;600;800&display=swap" rel="stylesheet">

    <!-- CSS -->
    <link rel="stylesheet" href="assets/styles.css?v=1.18.5">
  </head>
  <body>
    <header>
  <div class="header-left">
    <div class="brand">
      <div class="logo">ES</div>
      <div>
        Project ESBLAG
        <div class="small muted">Education Should Be Like A Game â€¢ V1.18.4</div>
      </div>
    </div>
    <div id="userBadge" class="pill" style="display:none"></div>
  </div>

  <div class="header-right">
    <!-- Dark mode toggle -->
    <button id="darkModeToggle" class="ghost" aria-label="Skift tema" type="button">ğŸŒ™ Dark</button>

    <!-- Kun Achievements i nav -->
    <button id="navAchBtn" class="ghost" type="button">ğŸ† Achievements</button>

    <button id="logoutBtn" class="ghost" style="display:none" type="button">Log ud</button>
  </div>
</header>


    <main class="wrap">
      <!-- SECTION: Welcome -->
      <section id="welcome" style="display:none">
        <div class="grid">
          <div class="card welcome">
            <div class="big-title">Velkommen, <span id="welcomeName">ven</span>! ğŸ‰</div>
            <div class="subtitle">LÃ¦ring skal fÃ¸les som et spil. Tjen XP for rigtige svar, gÃ¥ op i level â€” og se dit lille lÃ¦rings-kÃ¦ledyr udvikle sig!</div>
            <div class="pet">
              <div class="bubble" id="petEmoji" aria-label="KÃ¦ledyr emoji" title="Dit nuvÃ¦rende tier">ğŸ£</div>
              <div>
                <div class="level-box">Level <span id="levelText">1</span></div>
                <div class="tier-line" id="tierLine">Egg â€” Starter som et lille Ã¦g</div>
                <div class="xpbar" style="margin-top:8px;"><span id="xpFill" style="width:0%"></span></div>
                <div class="small muted" id="xpLabel">0 / 50 XP til nÃ¦ste level</div>

                <!-- Streak bar (velkomst) -->
                <div class="small muted" style="margin-top:10px">
                  Streak:
                  <span class="streak-icon" aria-hidden="true" title="Din streak!">ğŸ”¥</span>
                  <span id="streakCountWelcome">0</span>
                  â€¢ Bonus: <span id="streakBonusWelcome">x1.0</span>
                  <span id="streakMaxWelcome" class="small" style="color:#b45309; font-weight:800; display:none;">(maks)</span>
                </div>
                <div class="streakbar" aria-label="Streak-bonus fremgang" style="margin-top:6px; max-width:420px;">
                  <span id="streakFillWelcome" style="width:0%"></span>
                </div>
              </div>
            </div>

            <div class="row" style="margin-top:12px">
              <button id="startQuizBtn" type="button">Start quiz</button>
              <button class="secondary" id="aboutBtn" type="button">Hvad er dette?</button>
            </div>
            <div class="small muted">PS: Denne prototype gemmer kun pÃ¥ din egen enhed.</div>
          </div>

          <div class="card">
            <h3 style="margin-top:0">Hurtig info</h3>
            <ul>
              <li>10 spÃ¸rgsmÃ¥l â€¢ multiple choice</li>
              <li>+10 XP pr. rigtigt svar</li>
              <li>XP-krav stiger pr. level (50, 70, 90...)</li>
              <li>Perfekt runde = +1 ğŸ”¥ streak (XP-multiplikator)</li>
              <li>Streak-bonus maks = <strong>2.0Ã—</strong></li>
            </ul>
          </div>
        </div>
      </section>

      <!-- About -->
      <section id="about" style="display:none">
        <div class="card">
          <h2>Hvad er Project ESBLAG?</h2>
          <p>En enkel MVP, der viser hvordan gamification kan gÃ¸re lÃ¦ring sjovere: XP, levels og et lille kÃ¦ledyr, der udvikler sig.</p>
          <button class="secondary" id="backHomeBtn" type="button">Tilbage</button>
        </div>
      </section>

      <!-- Auth -->
      <section id="auth" style="display:none">
        <div class="grid">
          <div class="card">
            <h2 class="big-title">Kom i gang âœ¨</h2>
            <form id="authForm" class="auth-form" autocomplete="off">
              <label for="name">Hvad hedder du?</label>
              <input id="name" name="name" required minlength="2" maxlength="24" />
              <label for="age">Hvor gammel er du?</label>
              <input id="age" name="age" type="number" required min="8" max="99" />
              <div id="authError" class="error" style="display:none"></div>
              <div class="row" style="margin-top:14px">
                <button type="submit">Start</button>
                <button type="reset" class="ghost" id="authReset">Ryd</button>
              </div>
            </form>
          </div>
        </div>
      </section>

      <!-- Quiz -->
      <section id="quiz" style="display:none">
        <div class="card">
          <div class="row" style="justify-content:space-between; align-items:center">
            <div><strong>Quiz</strong> â€¢ <span id="qProgress">1 / 10</span></div>
            <div class="small muted">
              Streak: <span class="streak-icon" aria-hidden="true" title="Din streak!">ğŸ”¥</span>
              <span id="streakBadgeQuiz">0</span>
            </div>
          </div>
          <div class="quiz" style="margin-top:16px">
            <div id="qText" class="question">SpÃ¸rgsmÃ¥lstekst</div>
            <div id="qOptions" class="options"></div>
            <div class="row">
              <button id="nextBtn" type="button">NÃ¦ste</button>
              <button id="cancelQuizBtn" class="ghost" type="button">Afbryd</button>
            </div>
          </div>
        </div>
      </section>

      <!-- Result -->
      <section id="result" style="display:none">
        <div class="card center">
          <h2 id="resultTitle" style="margin-top:0">Flot klaret! ğŸ¯</h2>
          <p>Du fik <strong><span id="correctCount">0</span>/<span id="totalCount">0</span></strong> rigtige.</p>
          <p>Du tjente <strong><span id="xpEarned">0</span> XP</strong>.</p>

          <div style="max-width:520px; margin: 0 auto 16px">
            <div class="pet" style="justify-content:center">
              <div class="bubble" id="petEmojiResult">ğŸ£</div>
              <div>
                <div class="level-box">Level <span id="levelTextResult">1</span></div>
                <div class="tier-line" id="tierLineResult">Egg â€” Starter som et lille Ã¦g</div>
                <div class="xpbar" style="margin-top:8px;"><span id="xpFillResult"></span></div>
                <div class="small muted" id="xpLabelResult">0 / 50 XP til nÃ¦ste level</div>

                <!-- Streak bar (resultat) -->
                <div class="small muted" style="margin-top:10px">
                  Streak:
                  <span class="streak-icon" aria-hidden="true" title="Din streak!">ğŸ”¥</span>
                  <span id="streakCountResult">0</span>
                  â€¢ Bonus: <span id="streakBonusResult">x1.0</span>
                  <span id="streakMaxResult" class="small" style="color:#b45309; font-weight:800; display:none;">(maks)</span>
                </div>
                <div class="streakbar" aria-label="Streak-bonus fremgang" style="margin-top:6px;">
                  <span id="streakFillResult" style="width:0%"></span>
                </div>
              </div>
            </div>
          </div>

          <div id="wrongAnswers" style="margin-top:16px; text-align:left; display:none;">
            <h3>Forkerte svar:</h3>
            <ul id="wrongList"></ul>
          </div>

          <div class="row" style="justify-content:center; gap:10px">
            <button id="retryBtn" type="button">PrÃ¸v quizzen igen</button>
            <button class="secondary" id="homeBtn" type="button">Til velkomst</button>
          </div>
        </div>
      </section>

      <!-- Achievements -->
      <section id="achievements" style="display:none">
        <div class="card">
          <h2 style="margin-top:0">ğŸ† Achievements</h2>
          <p class="muted small">LÃ¥s badges op ved at spille! Du kan se kravene under hvert badge.</p>
          <div id="achGrid" class="ach-grid"></div>
          <div class="row" style="margin-top:14px">
            <button class="secondary" id="backFromAch" type="button">Tilbage</button>
          </div>
        </div>
      </section>
    </main>

    <!-- Toast & Achievement popup -->
    <div id="toast" class="toast" aria-live="polite"></div>
    <div id="achPopup" class="ach-popup" role="status" aria-live="polite" aria-atomic="true"></div>

    <!-- JS -->
    <script src="assets/app.js?v=1.18.4" defer></script>
  </body>
</html>
